!function(t,e){"use strict";if("function"==typeof define&&define.amd)define(["leaflet"],t);else if("object"==typeof exports)module.exports=t(require("leaflet"));else if("undefined"!=typeof e&&e.L){var i=t(L);e.L.Polyline.AntPath=i.AntPath,e.L.MultiPolyline.MultiAntPath=i.MultiAntPath,e.L.polyline.antPath=function(t,i){return new e.L.Polyline.AntPath(t,i)},e.L.multiPolyline.multiAntPath=function(t,i){return new e.L.MultiPolyline.MultiAntPath(t,i)}}}(function(t){"use strict";var e=t.FeatureGroup.extend({_path:null,_animatedPathId:null,_animatedPathClass:"leaflet-ant-path",options:{paused:!1,delay:400,dashArray:[10,20],pulseColor:"#FFFFFF"},initialize:function(e,i){t.LayerGroup.prototype.initialize.call(this),t.Util.setOptions(this,i),this._map=null,this._path=e,this._animatedPathId="ant-path-"+(new Date).getTime(),this._draw()},onAdd:function(t){this._map=t,this._map.on("zoomend",this._calculateAnimationSpeed,this),this._draw(),this._calculateAnimationSpeed()},onRemove:function(e){this._map.off("zoomend",this._calculateAnimationSpeed,this),this._map=null,t.LayerGroup.prototype.onRemove.call(this,e)},pause:function(){if(this.options.paused)return!1;for(var t=document.getElementsByClassName(this._animatedPathId),e=0;e<t.length;e++)t[e].removeAttribute("style"),t[e].removeAttribute("style"),t[e].removeAttribute("style");return this.options.paused=!0},resume:function(){this._calculateAnimationSpeed()},_draw:function(){var e={},i={};t.extend(i,this.options),t.extend(e,this.options),i.color=i.pulseColor||this.options.pulseColor,i.className=this._animatedPathClass+" "+this._animatedPathId,delete e.dashArray,this.addLayer(t.polyline(this._path,e)),this.addLayer(t.polyline(this._path,i))},_calculateAnimationSpeed:function(){if(!this.options.paused&&this._map)for(var t=this._map.getZoom(),e=document.getElementsByClassName(this._animatedPathId),i=1+this.options.delay/3/t+"s",n=0;n<e.length;n++)e[n].setAttribute("style","-webkit-animation-duration:"+i),e[n].setAttribute("style","-moz-animation-duration:"+i),e[n].setAttribute("style","animation-duration:"+i)}}),i=t.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(t){var i=0,n=t.length;for(this.eachLayer(function(e){n>i?e.setLatLngs(t[i++]):this.removeLayer(e)},this);n>i;)this.addLayer(new e(t[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t},pause:function(){this.eachLayer(function(t){t.pause()})},resume:function(){this.eachLayer(function(t){t.resume()})}});return{AntPath:e,MultiAntPath:i}},window);
//# sourceMappingURL=leaflet-ant-path.min.js.map
